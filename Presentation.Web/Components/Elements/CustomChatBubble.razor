@using Presentation.Web.Models
<div class="d-flex mb-2 @(GetJustifyClass())">
    <MudPaper Elevation="1"
              Class="@BubbleClass"
              Style="@BubbleStyle">

        <div>

            <MudText Typo="Typo.caption"
                     Color="@(Message.IsOwnMessage ? Color.Tertiary : Color.Secondary)"
                     Align="@(Message.IsOwnMessage ? Align.Center : Align.Left)">
                @MessageOriginatorText Â· @Message.Timestamp.ToLocalTime().ToString("HH:mm")
            </MudText>

            <div style="height:0.25rem;"></div>

            <MudText Typo="Typo.body1">
                @Message.Text
            </MudText>

        </div>
    </MudPaper>
</div>

@code {
    [Parameter] [EditorRequired] public MessageModel Message { get; set; } = default!;

    private string BubbleStyle => Message.IsOwnMessage ? "width:50%; max-width:50%; padding:0.5rem 0.75rem;" : "max-width:75%; padding:0.5rem 0.75rem;";

    private string GetJustifyClass() =>
        Message.IsOwnMessage ? "justify-start" : "justify-end";


    private string BubbleClass =>
        Message.IsOwnMessage ? "rounded-xl --mud-palette-black text-body" : "rounded-xl --mud-palette-black text-white";


    private string MessageOriginatorText =>
        Message.IsOwnMessage ? "You" : "The other guy";


}
